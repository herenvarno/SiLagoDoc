



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation of SiLago project">
      
      
        <link rel="canonical" href="https://silagokth.github.io/SiLagoDoc/Docs/ToolChain/Vesyla/Scheduling/">
      
      
        <meta name="author" content="SiLago Team">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.2">
    
    
      
        <title>Scheduling - SiLago Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#7cb342">
      
    
    
      <script src="../../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Lato","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-green" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#scheduling" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://silagokth.github.io/SiLagoDoc/" title="SiLago Documentation" aria-label="SiLago Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SiLago Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Scheduling
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/silagokth/SiLagoDoc/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    silagokth/SiLagoDoc
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Fabric/Overview/" class="md-tabs__link">
          Docs
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../About/About/" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://silagokth.github.io/SiLagoDoc/" title="SiLago Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SiLago Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/silagokth/SiLagoDoc/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    silagokth/SiLagoDoc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      Fabric
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        Fabric
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Fabric/Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2">
      Tool Chain
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Tool Chain
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-2" type="checkbox" id="nav-2-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2-2">
      Vesyla
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-2">
        Vesyla
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Tutorial/" title="Vesyla tutorial" class="md-nav__link">
      Vesyla tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ProgrammingGuide/" title="Programming Guide" class="md-nav__link">
      Programming Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Instruction-Set/" title="Instruction Set" class="md-nav__link">
      Instruction Set
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Cadfg/" title="CADFG - Control Address Data-Flow Graph" class="md-nav__link">
      CADFG - Control Address Data-Flow Graph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Hazzard/" title="Hazard" class="md-nav__link">
      Hazard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ExpressionSimplification/" title="Expression Simplification" class="md-nav__link">
      Expression Simplification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../DependencyAnalysis/" title="Dependency Analysis" class="md-nav__link">
      Dependency Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../DeadCodeElimination/" title="DeadCodeElimination" class="md-nav__link">
      DeadCodeElimination
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Idg/" title="IDG - Instruction Dependency Graph" class="md-nav__link">
      IDG - Instruction Dependency Graph
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Scheduling
      </label>
    
    <a href="./" title="Scheduling" class="md-nav__link md-nav__link--active">
      Scheduling
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-defination" class="md-nav__link">
    Problem Defination
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-simplification" class="md-nav__link">
    Problem Simplification
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delay-bound-assumption" class="md-nav__link">
    Delay bound assumption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parking-hard-links" class="md-nav__link">
    Parking Hard-links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-redundant-edges" class="md-nav__link">
    Remove Redundant Edges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative-edge-weight-adjustment" class="md-nav__link">
    Negative Edge Weight Adjustment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-hazard-prediction" class="md-nav__link">
    Resource Hazard Prediction
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-space-exploration" class="md-nav__link">
    Solution Space Exploration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-scheduling-algorithm" class="md-nav__link">
    LIST Scheduling Algorithm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../DiMArch/" title="DiMArch Reading and Writing" class="md-nav__link">
      DiMArch Reading and Writing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../About/About/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../About/License/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-defination" class="md-nav__link">
    Problem Defination
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-simplification" class="md-nav__link">
    Problem Simplification
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delay-bound-assumption" class="md-nav__link">
    Delay bound assumption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parking-hard-links" class="md-nav__link">
    Parking Hard-links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-redundant-edges" class="md-nav__link">
    Remove Redundant Edges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negative-edge-weight-adjustment" class="md-nav__link">
    Negative Edge Weight Adjustment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-hazard-prediction" class="md-nav__link">
    Resource Hazard Prediction
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution-space-exploration" class="md-nav__link">
    Solution Space Exploration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-scheduling-algorithm" class="md-nav__link">
    LIST Scheduling Algorithm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/silagokth/SiLagoDoc/edit/master/docs/Docs/ToolChain/Vesyla/Scheduling.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="scheduling">Scheduling</h1>
<h2 id="problem-defination">Problem Defination</h2>
<p>In Vesyla, the generated instructions have fairly long life-time and are highly cooperative. Which means they are not just single-cycle actors with simple precedency relation that fight for resources. Instructions running in DRRA microthreads might actively coordinate themselves with other instructions executing in some other microthreads. Cooperation with other instructions can happen at any time when an instruction is alive and it can happen multiple times with multiple different other instructions. Further more, the life-time of an instruction in Vesyla can be undetermined and depend on other instructions in terms of both precedency relation and resource availability.</p>
<p>To simplify the scenario a little bit, we consider the <strong>critical points</strong> of those instructions as the atomic unit objects (jobs/actors/operations) that need to be scheduled in the cooperative instruction scheduling problem which will be defined later. What are the critical points? They can be starting and ending point of instructions. They can be the time points when a instruction change its resource usage. They can be the time points when a instruction need to coordinate with other instructions. In short, whenever an instruction changes anything, it's a critical point. Critical points don't have execution duration, it just represents a timestamp. However, critical points can have resoure usage attached to it. Resource usage requires time duration.</p>
<p>With the usage of critical points, a new phenominal appears. Some instructions can have undetermined life-time before scheduling. When those instructions are broken down into critical points, the resource usage of those critical points need special treatment since their usage duration are undetermined. We need to assign a <strong>LOCK</strong> resource usage frame to the critical point starting to use the resource and a <strong>KEY</strong> resource usage frame to the critical point finishing to use the resource. The resource between <strong>LOCK</strong> and <strong>KEY</strong> frame during scheding should be marked <strong>unavailable</strong> to other critical points.</p>
<p>Cooperative instruction scheduling problem thus is very different from the classic instruction scheduling problem. In classic instruction scheduling problem, either positive or negative time-lag exists between a pair of instructions. While between a cooperative critical points pair, both minimal and maximum time-lag may exist, which constrants the precedence relation to a possibly closed time frame. A special case is when minimal and maximum time-lag are equal, representing the two critical points will have an exact time difference. The introduce of <strong>LOCK</strong> and <strong>KEY</strong> frame for resource usage is also very different from conventional instruction scheduling problem.</p>
<p>Now, we formally define the scheduling model and the scheduling problem.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>MODEL AND PROBLEM DEFINATION</p>
</div>
<h2 id="problem-simplification">Problem Simplification</h2>
<p>The scheduling model defined above can not be used directly because it's high complexity creates a vast solution space and scheduling algorithm will have hard time to navigate to the correct direction.</p>
<p>Therefore, we propose one assumption and four simplification step to simplify the model. The simplification processes transform the model to equivalent but simpler model hence shrink the solution space.</p>
<h3 id="delay-bound-assumption">Delay bound assumption</h3>
<p>Delay bounds of an edge in depenency graph can be either negative or positive as long as the higher bound <span><span class="MathJax_Preview">d_h</span><script type="math/tex">d_h</script></span> is not less than lower bound <span><span class="MathJax_Preview">d_l</span><script type="math/tex">d_l</script></span>. An edge with <span><span class="MathJax_Preview">d_l=-\infty</span><script type="math/tex">d_l=-\infty</script></span> or with <span><span class="MathJax_Preview">d_l\le d_h \lt 0</span><script type="math/tex">d_l\le d_h \lt 0</script></span> can be easily converted to an edge with <span><span class="MathJax_Preview">d_l\neq -\infty</span><script type="math/tex">d_l\neq -\infty</script></span> and <span><span class="MathJax_Preview">d_h\ge 0</span><script type="math/tex">d_h\ge 0</script></span>. Therefore, we assume that: every edge in dependency graph will have a delay bounds satisfying <span><span class="MathJax_Preview">d_l\neq -\infty</span><script type="math/tex">d_l\neq -\infty</script></span>, <span><span class="MathJax_Preview">d_h\ge 0</span><script type="math/tex">d_h\ge 0</script></span> and <span><span class="MathJax_Preview">d_l\le d_h</span><script type="math/tex">d_l\le d_h</script></span>.</p>
<h3 id="parking-hard-links">Parking Hard-links</h3>
<p>Hard-links are edges with constant delay (<span><span class="MathJax_Preview">d_l=d_h</span><script type="math/tex">d_l=d_h</script></span>). For example, <span><span class="MathJax_Preview">A\xrightarrow[]{\text{[w,w]}}B</span><script type="math/tex">A\xrightarrow[]{\text{[w,w]}}B</script></span> is a hard-link, it describs the constraint that the schedule time of B is exactly <span><span class="MathJax_Preview">w</span><script type="math/tex">w</script></span> cycles after the schedule time of A.</p>
<p>All vertices linked by hard-links should be scheduled together, because if any vertex has been scheduled, the schedule time of other vertices which directly or indirectly linked to the scheduled vertex can be determined immediately. Therefore, packing hard-linked vertices together can reduce the size of graph and accelerate the scheduling process.</p>
<p>Pseudo Algorithm is shown below:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">Graph</span> <span class="nf">packing_hard_links</span><span class="p">(</span><span class="n">Graph</span> <span class="n">g</span><span class="p">){</span>
    <span class="n">Graph</span> <span class="n">g1</span> <span class="o">=</span> <span class="n">remove_soft_links</span><span class="p">(</span><span class="n">g</span><span class="p">);</span>
    <span class="n">Component</span> <span class="n">C</span> <span class="o">=</span> <span class="n">find_connected_components</span><span class="p">(</span><span class="n">g1</span><span class="p">);</span>
    <span class="n">Graph</span> <span class="n">g2</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">c</span> <span class="p">:</span> <span class="n">C</span><span class="p">){</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="n">Vertex</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">offset_map</span> <span class="o">=</span> <span class="n">find_offset_for_each_vertex</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
        <span class="n">Vertex</span> <span class="n">vc</span><span class="p">;</span>
        <span class="n">Graph</span> <span class="n">g3</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">v</span> <span class="p">:</span> <span class="n">c</span><span class="p">.</span><span class="n">vertices</span><span class="p">()){</span>
            <span class="n">v</span><span class="p">.</span><span class="n">schedule_time</span> <span class="o">=</span> <span class="n">offset_map</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
            <span class="n">g3</span><span class="p">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">vc</span><span class="p">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">g3</span><span class="p">)</span>
        <span class="n">g2</span><span class="p">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">vc</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="nl">e</span><span class="p">:</span> <span class="n">edges</span><span class="p">(</span><span class="n">g</span><span class="p">)){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">is_soft_link</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">in_different_component</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">src</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">dest</span><span class="p">)){</span>
            <span class="n">Edge</span> <span class="n">e1</span> <span class="o">=</span> <span class="n">reshape_edge_accroding_to_g2</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
            <span class="n">g2</span><span class="p">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">e1</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">g2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

<h3 id="remove-redundant-edges">Remove Redundant Edges</h3>
<p>When analyzing the weighted edges in dependency graph (DG), it's easy to discover that there are some edges that have very relatexed constraints which can be removed completely without loosing any synchronization constraint information of the original DG. Example below illustrate such scenario.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="318pt" height="82pt"
 viewBox="0.00 0.00 318.00 82.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 78)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-78 314,-78 314,4 -4,4"/>
<!-- u -->
<g id="node1" class="node">
<title>u</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-45" rx="27" ry="18"/>
<text text-anchor="middle" x="27" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">u</text>
</g>
<!-- v -->
<g id="node2" class="node">
<title>v</title>
<ellipse fill="none" stroke="#000000" cx="283" cy="-45" rx="27" ry="18"/>
<text text-anchor="middle" x="283" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- u&#45;&gt;v -->
<g id="edge1" class="edge">
<title>u&#45;&gt;v</title>
<path fill="none" stroke="#000000" d="M52.5692,-51.022C58.8842,-52.2575 65.6572,-53.3719 72,-54 145.4187,-61.2699 164.5813,-61.2699 238,-54 241.0723,-53.6958 244.2455,-53.2775 247.4187,-52.7865"/>
<polygon fill="#000000" stroke="#000000" points="248.1901,-56.2046 257.4308,-51.022 246.9751,-49.3109 248.1901,-56.2046"/>
<text text-anchor="middle" x="155" y="-62.8" font-family="Times,serif" font-size="14.00" fill="#000000">[1, 5]</text>
</g>
<!-- w -->
<g id="node3" class="node">
<title>w</title>
<ellipse fill="none" stroke="#000000" cx="155" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="155" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">w</text>
</g>
<!-- u&#45;&gt;w -->
<g id="edge2" class="edge">
<title>u&#45;&gt;w</title>
<path fill="none" stroke="#000000" d="M52.9027,-39.5361C71.9872,-35.5105 98.1778,-29.9859 119.2538,-25.5402"/>
<polygon fill="#000000" stroke="#000000" points="120.0735,-28.9444 129.1358,-23.4557 118.6287,-22.0951 120.0735,-28.9444"/>
<text text-anchor="middle" x="91" y="-38.8" font-family="Times,serif" font-size="14.00" fill="#000000">[1, 2]</text>
</g>
<!-- w&#45;&gt;v -->
<g id="edge3" class="edge">
<title>w&#45;&gt;v</title>
<path fill="none" stroke="#000000" d="M180.9027,-23.4639C199.9872,-27.4895 226.1778,-33.0141 247.2538,-37.4598"/>
<polygon fill="#000000" stroke="#000000" points="246.6287,-40.9049 257.1358,-39.5443 248.0735,-34.0556 246.6287,-40.9049"/>
<text text-anchor="middle" x="219" y="-38.8" font-family="Times,serif" font-size="14.00" fill="#000000">[0, 1]</text>
</g>
</g>
</svg>

<p>From the path <span><span class="MathJax_Preview">u \rightarrow v</span><script type="math/tex">u \rightarrow v</script></span>, assuming <span><span class="MathJax_Preview">u</span><script type="math/tex">u</script></span> starts at <span><span class="MathJax_Preview">t_0</span><script type="math/tex">t_0</script></span>, <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span> should start at the time period <span><span class="MathJax_Preview">[t_0+1,t_0+5]</span><script type="math/tex">[t_0+1,t_0+5]</script></span>. While from the path <span><span class="MathJax_Preview">u \rightarrow w \rightarrow v</span><script type="math/tex">u \rightarrow w \rightarrow v</script></span>, <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span> should start at the time period <span><span class="MathJax_Preview">[t_0+1,t_0+3]</span><script type="math/tex">[t_0+1,t_0+3]</script></span>. It's obvious that period <span><span class="MathJax_Preview">[t_0+1,t_0+5]</span><script type="math/tex">[t_0+1,t_0+5]</script></span> is more relaxed thatn period <span><span class="MathJax_Preview">[t_0+1,t_0+3]</span><script type="math/tex">[t_0+1,t_0+3]</script></span>. The path <span><span class="MathJax_Preview">u \rightarrow v</span><script type="math/tex">u \rightarrow v</script></span> doesn't add any addtition information, hence, can be removed.</p>
<h3 id="negative-edge-weight-adjustment">Negative Edge Weight Adjustment</h3>
<p>In DG, weight can be period with negative integers. Therefore, if there is an edge <span><span class="MathJax_Preview">u \xrightarrow[]{\text[-2,2]} v</span><script type="math/tex">u \xrightarrow[]{\text[-2,2]} v</script></span>, though graphically the edge point from <span><span class="MathJax_Preview">u</span><script type="math/tex">u</script></span> to <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span>, it doesn't necessarily mean that after scheduling, <span><span class="MathJax_Preview">v</span><script type="math/tex">v</script></span> is scheduled after <span><span class="MathJax_Preview">u</span><script type="math/tex">u</script></span>. The inconsistancy between graph representation and the actual meaning of the weighted edge cause some troubles during later process. It would be much better if we can find a way to make them consistant.To adjust the weight of edges, the goal is to guarantee the weight period are strictly positive numbers.</p>
<p>Reader should keep in mind  what are the vertices in DG. They are just timestamp marking the critical time of each operation. There may be resource occupation table (ROT) attach to them. Suppose we have an edge like as following:</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="195pt" height="44pt"
 viewBox="0.00 0.00 195.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 191,-40 191,4 -4,4"/>
<!-- u -->
<g id="node1" class="node">
<title>u</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">u</text>
</g>
<!-- v -->
<g id="node2" class="node">
<title>v</title>
<ellipse fill="none" stroke="#000000" cx="160" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="160" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- u&#45;&gt;v -->
<g id="edge1" class="edge">
<title>u&#45;&gt;v</title>
<path fill="none" stroke="#000000" d="M54.2355,-18C73.9593,-18 100.8628,-18 122.5994,-18"/>
<polygon fill="#000000" stroke="#000000" points="122.801,-21.5001 132.8009,-18 122.8009,-14.5001 122.801,-21.5001"/>
<text text-anchor="middle" x="93.5" y="-21.8" font-family="Times,serif" font-size="14.00" fill="#000000">[&#45;2, 2]</text>
</g>
</g>
</svg>

<p>We can insert a dummy vertex <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> with no ROT attach to it before <span><span class="MathJax_Preview">u</span><script type="math/tex">u</script></span> with exactly 3 cycles ahead.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="319pt" height="44pt"
 viewBox="0.00 0.00 319.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 315,-40 315,4 -4,4"/>
<!-- d -->
<g id="node1" class="node">
<title>d</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">d</text>
</g>
<!-- u -->
<g id="node2" class="node">
<title>u</title>
<ellipse fill="none" stroke="#000000" cx="151" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="151" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">u</text>
</g>
<!-- d&#45;&gt;u -->
<g id="edge1" class="edge">
<title>d&#45;&gt;u</title>
<path fill="none" stroke="#000000" d="M54.2123,-18C71.6566,-18 94.5331,-18 113.6655,-18"/>
<polygon fill="#000000" stroke="#000000" points="113.8512,-21.5001 123.8512,-18 113.8511,-14.5001 113.8512,-21.5001"/>
<text text-anchor="middle" x="89" y="-21.8" font-family="Times,serif" font-size="14.00" fill="#000000">[3,3]</text>
</g>
<!-- v -->
<g id="node3" class="node">
<title>v</title>
<ellipse fill="none" stroke="#000000" cx="284" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="284" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- u&#45;&gt;v -->
<g id="edge2" class="edge">
<title>u&#45;&gt;v</title>
<path fill="none" stroke="#000000" d="M178.2355,-18C197.9593,-18 224.8628,-18 246.5994,-18"/>
<polygon fill="#000000" stroke="#000000" points="246.801,-21.5001 256.8009,-18 246.8009,-14.5001 246.801,-21.5001"/>
<text text-anchor="middle" x="217.5" y="-21.8" font-family="Times,serif" font-size="14.00" fill="#000000">[&#45;2, 2]</text>
</g>
</g>
</svg>

<p>The edge <span><span class="MathJax_Preview">u \rightarrow v</span><script type="math/tex">u \rightarrow v</script></span> can be replaced by a new edge <span><span class="MathJax_Preview">d \rightarrow v</span><script type="math/tex">d \rightarrow v</script></span>.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="190pt" height="98pt"
 viewBox="0.00 0.00 190.00 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-94 186,-94 186,4 -4,4"/>
<!-- d -->
<g id="node1" class="node">
<title>d</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-45" rx="27" ry="18"/>
<text text-anchor="middle" x="27" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">d</text>
</g>
<!-- u -->
<g id="node2" class="node">
<title>u</title>
<ellipse fill="none" stroke="#000000" cx="155" cy="-72" rx="27" ry="18"/>
<text text-anchor="middle" x="155" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">u</text>
</g>
<!-- d&#45;&gt;u -->
<g id="edge1" class="edge">
<title>d&#45;&gt;u</title>
<path fill="none" stroke="#000000" d="M52.9027,-50.4639C71.9872,-54.4895 98.1778,-60.0141 119.2538,-64.4598"/>
<polygon fill="#000000" stroke="#000000" points="118.6287,-67.9049 129.1358,-66.5443 120.0735,-61.0556 118.6287,-67.9049"/>
<text text-anchor="middle" x="91" y="-65.8" font-family="Times,serif" font-size="14.00" fill="#000000">[3,3]</text>
</g>
<!-- v -->
<g id="node3" class="node">
<title>v</title>
<ellipse fill="none" stroke="#000000" cx="155" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="155" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- d&#45;&gt;v -->
<g id="edge2" class="edge">
<title>d&#45;&gt;v</title>
<path fill="none" stroke="#000000" d="M52.6846,-39.2149C58.9961,-37.8147 65.7387,-36.3368 72,-35 87.2792,-31.7378 104.1682,-28.256 118.7006,-25.2985"/>
<polygon fill="#000000" stroke="#000000" points="119.7046,-28.6662 128.8094,-23.2483 118.3132,-21.8059 119.7046,-28.6662"/>
<text text-anchor="middle" x="91" y="-38.8" font-family="Times,serif" font-size="14.00" fill="#000000">[1, 5]</text>
</g>
</g>
</svg>

<p>Edge <span><span class="MathJax_Preview">d \rightarrow u</span><script type="math/tex">d \rightarrow u</script></span> is always a hard edge, we can merge vertex <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> and <span><span class="MathJax_Preview">u</span><script type="math/tex">u</script></span> to a new vertex <span><span class="MathJax_Preview">u'</span><script type="math/tex">u'</script></span> with shifted ROT_u as its attached ROT.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="190pt" height="44pt"
 viewBox="0.00 0.00 190.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 186,-40 186,4 -4,4"/>
<!-- u -->
<g id="node1" class="node">
<title>u</title>
<ellipse fill="none" stroke="#000000" cx="27" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">u&#39;</text>
</g>
<!-- v -->
<g id="node2" class="node">
<title>v</title>
<ellipse fill="none" stroke="#000000" cx="155" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="155" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- u&#45;&gt;v -->
<g id="edge1" class="edge">
<title>u&#45;&gt;v</title>
<path fill="none" stroke="#000000" d="M54.1455,-18C72.6432,-18 97.3717,-18 117.7127,-18"/>
<polygon fill="#000000" stroke="#000000" points="117.8937,-21.5001 127.8936,-18 117.8936,-14.5001 117.8937,-21.5001"/>
<text text-anchor="middle" x="91" y="-21.8" font-family="Times,serif" font-size="14.00" fill="#000000">[1, 5]</text>
</g>
</g>
</svg>

<p>In this way, every negative numbered weight can be converted to positive weight in DG.</p>
<h3 id="resource-hazard-prediction">Resource Hazard Prediction</h3>
<p>A well defined program will always have LOCK/KEY frame pair for any resource. A resource should never been locked and there is no KEY frame to unlock it, or vice versa. Different LOCK/KEY pair targeting the same resource will conflict with each other due to the resource occupation. The resource harzard should be resolved by scheduling via time multiplexing. However, in some scenario, if the scheduler don't schedule the vertices in a specific order, the scheduling might lead to unschduable situation due to resource occupation deadlock. Some exploration algorithms such as LIST scheduling engine might fail. While other scheduling engine such as Branch-and-Bound might stack to some corner space exploring for a very long time in order to find a valid suliton. The following example clearly shows such scenario.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="690pt" height="98pt"
 viewBox="0.00 0.00 689.56 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-94 685.5571,-94 685.5571,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="229.0329" cy="-72" rx="64.189" ry="18"/>
<text text-anchor="middle" x="229.0329" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">a / LOCK(r)</text>
</g>
<!-- b -->
<g id="node2" class="node">
<title>b</title>
<ellipse fill="none" stroke="#000000" cx="385.9221" cy="-72" rx="56.59" ry="18"/>
<text text-anchor="middle" x="385.9221" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">b / KEY(r)</text>
</g>
<!-- a&#45;&gt;b -->
<g id="edge1" class="edge">
<title>a&#45;&gt;b</title>
<path fill="none" stroke="#000000" d="M293.7515,-72C302.1528,-72 310.7708,-72 319.2039,-72"/>
<polygon fill="#000000" stroke="#000000" points="319.3716,-75.5001 329.3716,-72 319.3716,-68.5001 319.3716,-75.5001"/>
</g>
<!-- e -->
<g id="node5" class="node">
<title>e</title>
<ellipse fill="none" stroke="#000000" cx="505.4671" cy="-72" rx="27" ry="18"/>
<text text-anchor="middle" x="505.4671" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">e</text>
</g>
<!-- b&#45;&gt;e -->
<g id="edge6" class="edge">
<title>b&#45;&gt;e</title>
<path fill="none" stroke="#000000" d="M442.5439,-72C451.1879,-72 459.9201,-72 468.0146,-72"/>
<polygon fill="#000000" stroke="#000000" points="468.2272,-75.5001 478.2272,-72 468.2272,-68.5001 468.2272,-75.5001"/>
</g>
<!-- c -->
<g id="node3" class="node">
<title>c</title>
<ellipse fill="none" stroke="#000000" cx="64.3443" cy="-18" rx="64.189" ry="18"/>
<text text-anchor="middle" x="64.3443" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">c / LOCK(r)</text>
</g>
<!-- f -->
<g id="node6" class="node">
<title>f</title>
<ellipse fill="none" stroke="#000000" cx="229.0329" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="229.0329" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">f</text>
</g>
<!-- c&#45;&gt;f -->
<g id="edge2" class="edge">
<title>c&#45;&gt;f</title>
<path fill="none" stroke="#000000" d="M128.9609,-18C150.3032,-18 173.3134,-18 191.8818,-18"/>
<polygon fill="#000000" stroke="#000000" points="191.9777,-21.5001 201.9777,-18 191.9777,-14.5001 191.9777,-21.5001"/>
</g>
<!-- d -->
<g id="node4" class="node">
<title>d</title>
<ellipse fill="none" stroke="#000000" cx="625.0121" cy="-45" rx="56.59" ry="18"/>
<text text-anchor="middle" x="625.0121" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">d / KEY(r)</text>
</g>
<!-- e&#45;&gt;d -->
<g id="edge7" class="edge">
<title>e&#45;&gt;d</title>
<path fill="none" stroke="#000000" d="M531.1125,-66.2078C542.1559,-63.7136 555.5367,-60.6915 568.6935,-57.7199"/>
<polygon fill="#000000" stroke="#000000" points="569.6854,-61.0841 578.6686,-55.467 568.1432,-54.2561 569.6854,-61.0841"/>
</g>
<!-- g -->
<g id="node7" class="node">
<title>g</title>
<ellipse fill="none" stroke="#000000" cx="385.9221" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="385.9221" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">g</text>
</g>
<!-- f&#45;&gt;g -->
<g id="edge3" class="edge">
<title>f&#45;&gt;g</title>
<path fill="none" stroke="#000000" d="M256.3609,-18C281.8948,-18 320.227,-18 348.5778,-18"/>
<polygon fill="#000000" stroke="#000000" points="348.9073,-21.5001 358.9073,-18 348.9073,-14.5001 348.9073,-21.5001"/>
</g>
<!-- h -->
<g id="node8" class="node">
<title>h</title>
<ellipse fill="none" stroke="#000000" cx="505.4671" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="505.4671" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">h</text>
</g>
<!-- g&#45;&gt;h -->
<g id="edge4" class="edge">
<title>g&#45;&gt;h</title>
<path fill="none" stroke="#000000" d="M413.0488,-18C429.4033,-18 450.4613,-18 468.3448,-18"/>
<polygon fill="#000000" stroke="#000000" points="468.4479,-21.5001 478.4479,-18 468.4478,-14.5001 468.4479,-21.5001"/>
</g>
<!-- h&#45;&gt;d -->
<g id="edge5" class="edge">
<title>h&#45;&gt;d</title>
<path fill="none" stroke="#000000" d="M531.1125,-23.7922C542.1559,-26.2864 555.5367,-29.3085 568.6935,-32.2801"/>
<polygon fill="#000000" stroke="#000000" points="568.1432,-35.7439 578.6686,-34.533 569.6854,-28.9159 568.1432,-35.7439"/>
</g>
</g>
</svg>

<p>Vertex <span><span class="MathJax_Preview">c</span><script type="math/tex">c</script></span> can be chosen by the scheduler to schedule first because it don't have any dependency from other vertices. The naturally, <span><span class="MathJax_Preview">f, g, h</span><script type="math/tex">f, g, h</script></span> can be scheduled. But <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> can not be scheduled because <span><span class="MathJax_Preview">e</span><script type="math/tex">e</script></span> is not scheduled. <span><span class="MathJax_Preview">e</span><script type="math/tex">e</script></span> can not be scheduled because <span><span class="MathJax_Preview">a</span><script type="math/tex">a</script></span> can't be scheduled due to resource <span><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span> is locked by <span><span class="MathJax_Preview">c</span><script type="math/tex">c</script></span>. And <span><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span> is not can't be freed because <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> can't be scheduled. This is a deadlock and will make this scheduling unfeasible. In order to correct the mistake, the scheduler (for example Branch-and-Bound) will try to trace back and to the step of scheduling <span><span class="MathJax_Preview">h</span><script type="math/tex">h</script></span>, then trace back again to <span><span class="MathJax_Preview">g</span><script type="math/tex">g</script></span>. Until it back-tracks to <span><span class="MathJax_Preview">c</span><script type="math/tex">c</script></span>, the very first scheduling step, the scheduler can't correct the mistake.</p>
<p>To solve such problem, we need to predict the scheduling order. By analyzing the graph structure, we should be able to conclude that <span><span class="MathJax_Preview">c</span><script type="math/tex">c</script></span> should be scheduled after than <span><span class="MathJax_Preview">b</span><script type="math/tex">b</script></span>. We then force a constraint edge to explictly represent such scheduling order in order to help the later exploring phase. The dependency graph after hazard prediction will be look like this:</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="870pt" height="98pt"
 viewBox="0.00 0.00 869.56 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-94 865.5571,-94 865.5571,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<ellipse fill="none" stroke="#000000" cx="64.3443" cy="-45" rx="64.189" ry="18"/>
<text text-anchor="middle" x="64.3443" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">a / LOCK(r)</text>
</g>
<!-- b -->
<g id="node2" class="node">
<title>b</title>
<ellipse fill="none" stroke="#000000" cx="221.2336" cy="-45" rx="56.59" ry="18"/>
<text text-anchor="middle" x="221.2336" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">b / KEY(r)</text>
</g>
<!-- a&#45;&gt;b -->
<g id="edge1" class="edge">
<title>a&#45;&gt;b</title>
<path fill="none" stroke="#000000" d="M129.063,-45C137.4642,-45 146.0822,-45 154.5153,-45"/>
<polygon fill="#000000" stroke="#000000" points="154.683,-48.5001 164.683,-45 154.683,-41.5001 154.683,-48.5001"/>
</g>
<!-- c -->
<g id="node3" class="node">
<title>c</title>
<ellipse fill="none" stroke="#000000" cx="378.1228" cy="-70" rx="64.189" ry="18"/>
<text text-anchor="middle" x="378.1228" y="-66.3" font-family="Times,serif" font-size="14.00" fill="#000000">c / LOCK(r)</text>
</g>
<!-- b&#45;&gt;c -->
<g id="edge8" class="edge">
<title>b&#45;&gt;c</title>
<path fill="none" stroke="#000000" d="M272.171,-53.1168C284.8623,-55.1391 298.6535,-57.3367 311.9611,-59.4573"/>
<polygon fill="#000000" stroke="#000000" points="311.5908,-62.9423 322.017,-61.0596 312.6924,-56.0295 311.5908,-62.9423"/>
</g>
<!-- e -->
<g id="node5" class="node">
<title>e</title>
<ellipse fill="none" stroke="#000000" cx="505.4671" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="505.4671" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">e</text>
</g>
<!-- b&#45;&gt;e -->
<g id="edge6" class="edge">
<title>b&#45;&gt;e</title>
<path fill="none" stroke="#000000" d="M275.7003,-39.8261C332.3167,-34.448 419.3814,-26.1775 468.4768,-21.5138"/>
<polygon fill="#000000" stroke="#000000" points="469.0195,-24.9781 478.6437,-20.548 468.3575,-18.0095 469.0195,-24.9781"/>
</g>
<!-- f -->
<g id="node6" class="node">
<title>f</title>
<ellipse fill="none" stroke="#000000" cx="505.4671" cy="-72" rx="27" ry="18"/>
<text text-anchor="middle" x="505.4671" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">f</text>
</g>
<!-- c&#45;&gt;f -->
<g id="edge2" class="edge">
<title>c&#45;&gt;f</title>
<path fill="none" stroke="#000000" d="M442.5411,-71.0117C451.2915,-71.1491 460.0231,-71.2863 468.0747,-71.4127"/>
<polygon fill="#000000" stroke="#000000" points="468.1583,-74.9144 478.2121,-71.5719 468.2683,-67.9152 468.1583,-74.9144"/>
</g>
<!-- d -->
<g id="node4" class="node">
<title>d</title>
<ellipse fill="none" stroke="#000000" cx="805.0121" cy="-45" rx="56.59" ry="18"/>
<text text-anchor="middle" x="805.0121" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#000000">d / KEY(r)</text>
</g>
<!-- e&#45;&gt;d -->
<g id="edge7" class="edge">
<title>e&#45;&gt;d</title>
<path fill="none" stroke="#000000" d="M532.3134,-20.4198C578.7946,-24.6095 675.495,-33.3257 740.3408,-39.1707"/>
<polygon fill="#000000" stroke="#000000" points="740.1882,-42.6711 750.4621,-40.083 740.8167,-35.6994 740.1882,-42.6711"/>
</g>
<!-- g -->
<g id="node7" class="node">
<title>g</title>
<ellipse fill="none" stroke="#000000" cx="595.4671" cy="-71" rx="27" ry="18"/>
<text text-anchor="middle" x="595.4671" y="-67.3" font-family="Times,serif" font-size="14.00" fill="#000000">g</text>
</g>
<!-- f&#45;&gt;g -->
<g id="edge3" class="edge">
<title>f&#45;&gt;g</title>
<path fill="none" stroke="#000000" d="M532.4701,-71.7C540.4948,-71.6108 549.4337,-71.5115 557.998,-71.4163"/>
<polygon fill="#000000" stroke="#000000" points="558.2117,-74.9143 568.1722,-71.3033 558.1339,-67.9147 558.2117,-74.9143"/>
</g>
<!-- h -->
<g id="node8" class="node">
<title>h</title>
<ellipse fill="none" stroke="#000000" cx="685.4671" cy="-70" rx="27" ry="18"/>
<text text-anchor="middle" x="685.4671" y="-66.3" font-family="Times,serif" font-size="14.00" fill="#000000">h</text>
</g>
<!-- g&#45;&gt;h -->
<g id="edge4" class="edge">
<title>g&#45;&gt;h</title>
<path fill="none" stroke="#000000" d="M622.4701,-70.7C630.4948,-70.6108 639.4337,-70.5115 647.998,-70.4163"/>
<polygon fill="#000000" stroke="#000000" points="648.2117,-73.9143 658.1722,-70.3033 648.1339,-66.9147 648.2117,-73.9143"/>
</g>
<!-- h&#45;&gt;d -->
<g id="edge5" class="edge">
<title>h&#45;&gt;d</title>
<path fill="none" stroke="#000000" d="M711.4066,-64.5754C722.0269,-62.3544 734.7719,-59.6891 747.3891,-57.0505"/>
<polygon fill="#000000" stroke="#000000" points="748.3656,-60.4221 757.4374,-54.9491 746.9327,-53.5703 748.3656,-60.4221"/>
</g>
</g>
</svg>

<h2 id="solution-space-exploration">Solution Space Exploration</h2>
<p>Scheduling is an NP-Complete problem. To find a valid solution for dependency graph, we need some solution searching engine or hierustic scheduling algorithm. Branch-and-Bound, Constriant Programming, LIST algorithm, Simulated Annening, etc are such searching engines. In this section, we introduce two searching engine as an example to demonstrate how does the solution space exploration works.</p>
<h3 id="list-scheduling-algorithm">LIST Scheduling Algorithm</h3>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Idg/" title="IDG - Instruction Dependency Graph" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                IDG - Instruction Dependency Graph
              </span>
            </div>
          </a>
        
        
          <a href="../DiMArch/" title="DiMArch Reading and Writing" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                DiMArch Reading and Writing
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>